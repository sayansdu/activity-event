<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="EventMapper">	<resultMap id="bnd_users" type="kz.jazzsoft.bnd.event.entity.User">		<id column="id" property="id" />		<result column="login" property="login" />		<result column="user_id" property="userid" />	</resultMap>		<resultMap type="kz.jazzsoft.bnd.event.entity.Event" id="bnd_event">		<id column="id" property="id" />		<result column="component_name" property="componentName" />		<result column="module_name" property="moduleName" />		<result column="resource" property="resource" />		<result column="description"  property="description"/> 		<result column="date_time" property="dateTime" />		<association property="user" column="ref_user" javaType="kz.jazzsoft.bnd.event.entity.User" select="selectUser" />		<association property="eventType" column="ref_event_type" javaType="kz.jazzsoft.bnd.event.entity.EventType" select="selectEventTypeById">			</association>	</resultMap>		<resultMap type="kz.jazzsoft.bnd.event.entity.EventType" id="bnd_event_type">		<id column="id" property="id"/>		<result column="name" property="name" />		<result column="code" property="code" />	</resultMap>			<select id="selectUser" resultMap="bnd_users" parameterType="long">		select * from bnd_users where id=#{id}	</select>	<select id="selectUserByUserId" resultMap="bnd_users" parameterType="long">		select * from bnd_users where user_id=#{userid}	</select>		<select id="selectUsers" resultMap="bnd_users">		select * from bnd_users	</select>		<insert id="saveUser" parameterType="kz.jazzsoft.bnd.event.entity.User" useGeneratedKeys="true" keyProperty="id" keyColumn="id">		<selectKey keyProperty="id" resultType="long" order="BEFORE">			select nextVal('public.hibernate_sequence')		</selectKey>		insert into bnd_users (id, login, user_id) values (#{id}, #{login}, #{userid})	</insert>		<update id="updateUser" parameterType="kz.jazzsoft.bnd.event.entity.User">		update bnd_users set			login = #{login}, userid = #{userid}		where id = #{id}	</update>		<select id="selectEvent" parameterType="long" resultMap="bnd_event">		select * from bnd_event where id = #{id}	</select>		<select id="selectAllEvent" resultMap="bnd_event">		select * from bnd_event	</select>		<insert id="saveEvent" parameterType="kz.jazzsoft.bnd.event.entity.Event" useGeneratedKeys="true" >		<selectKey keyProperty="id" resultType="long" order="BEFORE">            SELECT nextVal('public.hibernate_sequence')            <!-- or ->  SELECT my_sequence.nextVal from dual   -->        </selectKey>		INSERT INTO bnd_event (id, ref_event_type, component_name, module_name, description, ref_user, date_time, resource) 			VALUES (#{id}, #{eventType.id }, #{componentName}, #{moduleName}, #{description}, #{user.id}, #{dateTime}, #{resource})	</insert>		<update id="updateEvent" parameterType="kz.jazzsoft.bnd.event.entity.Event">		UPDATE bnd_event SET			ref_event_type = #{eventType},			component_name = #{componentName}, 			module_name = #{moduleName},			description = #{description},			ref_user = #{user},			date_time = #{dateTime},			resource = #{resource}		WHERE id = #{id}	</update>		<delete id="deleteEvent" parameterType="long">		delete from bnd_event where id = #{id}	</delete>	<select id="selectEventTypeById" parameterType="long" resultType="long">		select id from bnd_event_type where id = #{id}	</select>		<select id="selectEventTypes" resultMap="bnd_event_type">		select * from bnd_event_type	</select>		<select id="selectEventTypeByCode" parameterType="long" resultMap="bnd_event_type">		select * from bnd_event_type where code = #{code}	</select>	</mapper>