package kz.jazzsoft.bnd.event.ui.view.tree;import java.io.File;import java.util.ArrayList;import java.util.List;import java.util.TreeSet;import com.vaadin.ui.Tree;@SuppressWarnings("serial")public class LeftTree extends Tree{			 String current_day="Current Date", 	    	restored_day="Archives",	 		directory;	 List<String> files_name = new ArrayList<String>();	 TreeSet<String> years = new TreeSet<String>();	 TreeSet<String> months = new TreeSet<String>();	 	 public LeftTree() {        setWidth("200px");        setHeight("100%");        setVisible(false);    	addItem(current_day);    	addItem(restored_day);  	 }	    /**     * Remove all elements from tree and save again all elements from updated directory     */    public void refresh(){    	removeAllItems();    	addItem(current_day);    	setChildrenAllowed(current_day, false);    	addItem(restored_day);     	    	File files = new File(directory);    	if(files.exists()){    		for (File file : files.listFiles()) {    			if(file.getName().startsWith("."))    				continue;    			else if(file.getName().equals("empty-archive"))    				continue;    			    			String year = file.getName().split("-")[0];    			String month = file.getName().split("-")[1];    			files_name.add(file.getName());    			years.add(year);  			    			months.add(year+"-"+month);			}    		    		for (String str : years) {				addItem(str);				setParent(str, restored_day);			}    		    		for (String str : months) {					addItem(GetMonths.all_months.get(str.split("-")[1]));					setParent(GetMonths.all_months.get(str.split("-")[1]), str.split("-")[0]);			}    		    		for (String str : files_name) {    			String month = str.split("-")[1];											addItem(str);				setParent(str, GetMonths.all_months.get(month));				setChildrenAllowed(str, false);			}    		    	}    	else     		System.out.println("File don't exist");    	    	expandItemsRecursively(restored_day);    }            /**     * update all item for localizations     */    public void updateItems(String current, String archives){    	removeAllItems();    	current_day = current;    	restored_day = archives;    	addItem(current_day);    	addItem(restored_day);    	refresh();    }        /**     * set value to directory variable     * @param directory - get archives directory from PgSQLOperation class      */    public void setDirectory(String directory){    	this.directory = directory;    }        /**     * return current_day value,     * use to check if selected item is current_version or archives     */    public String getCurrentDay(){    	return current_day;    }}